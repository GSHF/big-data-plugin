library(identifier: "${params.LIB_NAME ?: 'pentaho-library'}@${params.LIB_VERSION ?: '20200212'}", changelog: false)

node(params.SLAVE_NODE_LABEL ?: 'non-master') {
  timestamps {
    stages.configure()

    catchError {
      stages.preClean()
      stages.checkout()
      stages.test()
      stages.postClean()
    }

    stages.report()
  }
}